(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{1372:function(e,t,s){Promise.resolve().then(s.bind(s,7730))},7730:function(e,t,s){"use strict";let r;s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),n=s(2265),c=s(4387),o=s(981),l=s.n(o),i=s(6691),d=s.n(i),h=s(1737);void 0!==window.ethereum?(window.ethereum.request({method:"eth_requestAccounts"}),r=new h.ZPm(window.ethereum)):r=new h.ZPm(new h.ZPm.providers.HttpProvider("https://mainnet.infura.io/v3/YOUR_INFURA_API_KEY"));var u=r,b=e=>{let{seed:t,onAccountChange:s}=e,[r,c]=(0,n.useState)(0),[o,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=i(t),s=Math.abs(e)%851;c(s)},[t]),(0,n.useEffect)(()=>{let e=async()=>{try{let e=await u.eth.getAccounts(),t=(null==e?void 0:e[0])||null;l(t),s(t)}catch(e){console.error("Error fetching account:",e.message)}};e()},[]);let i=e=>{let t=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r}return t};return(0,a.jsx)("div",{children:o&&(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:["Connected Account: ",o]})})})},x=s(3807),p=s(7026);let f=e=>{let{setMessage:t,script:s}=e,r=s.split("\n"),[a,c]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=setInterval(()=>{a<r.length?(t(e=>e+(e?"\n":"")+r[a]),c(a+1)):clearInterval(e)},1e3);return()=>{clearInterval(e)}},[r,t,a]),null};var g=e=>{let{children:t}=e,[s,r]=(0,n.useState)("");return(0,a.jsxs)("div",{id:"App:CodeTerminal",style:{backgroundColor:"#000",padding:"1em",borderRadius:"5px",borderColor:"#913d88",color:"#fff",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:[(0,a.jsx)(f,{setMessage:r,script:t}),s]})};let m="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",j=async(e,t)=>{switch(t.toLowerCase()){case"eth":return y(e);case"btc":return w(e);default:return console.error("Unsupported cryptocurrency"),null}},y=async e=>{try{let t="https://api.etherscan.io/api?module=account&action=txlist&address=".concat(e,"&startblock=0&endblock=99999999&sort=asc&apikey=").concat("QEX6DGCMDRPXRU89FKPUR4BG9AUMCR4FXD"),s=await fetch(t),r=await s.json();if("1"!==r.status)return console.error("Error fetching Etherscan data:",r.message),null;{let t=r.result.map(t=>({timestamp:new Date(1e3*parseInt(t.timeStamp)).toISOString(),type:e.toLowerCase()===t.from.toLowerCase()?"Sent":"Received",cryptocurrency:"ETH",thirdPartyIdacScore:Math.floor(1e3*Math.random()),usdAmount:parseFloat(t.value)/1e18,thirdPartyWallet:e.toLowerCase()===t.from.toLowerCase()?t.to:t.from}));return t}}catch(e){return console.error("Error fetching Etherscan data:",e),[]}},w=async e=>{try{let t="https://api.blockcypher.com/v1/btc/main/addrs/".concat(e,"/full?token=").concat(m),s=await fetch(t),r=await s.json();if(r.error)return console.error("Error fetching BlockCypher data:",r.error),null;{let t=r.txs.map(t=>({timestamp:new Date(t.received).toISOString(),type:e.toLowerCase()===t.inputs[0].addresses[0].toLowerCase()?"Sent":"Received",cryptocurrency:"BTC",thirdPartyIdacScore:Math.floor(1e3*Math.random()),usdAmount:t.outputs.reduce((e,t)=>e+t.value,0)/1e8,thirdPartyWallet:e.toLowerCase()===t.inputs[0].addresses[0].toLowerCase()?t.outputs[0].addresses[0]:t.inputs[0].addresses[0]}));return t}}catch(e){return console.error("Error fetching BlockCypher data:",e),[]}},v=async(e,t,s)=>{try{let n={model:"gpt-3.5-turbo",messages:[{role:"system",content:"Analyze Ethereum address ".concat(e," for potential malicious activities or bad actors. Look for patterns, anomalies, or any indicators that may suggest malicious behavior. \n          Consider the following data associated with ").concat(t)},{role:"user",content:"Provide insights for the relationship between Ethereum addresses ".concat(e," and ").concat(t,".")},{role:"assistant",content:s}]};console.log("Request payload:",n);let o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify(n)});console.log("Response status:",o.status);let l=await o.json();if(console.log("Response data:",l),!l.choices||!(l.choices.length>0))return console.error("No insights available."),null;{var r,a;let t=null===(a=l.choices[0])||void 0===a?void 0:null===(r=a.message)||void 0===r?void 0:r.content;if(console.log("Insights:",t),null!=t)return await (0,c.n6)({insights:t,timestamp:Date.now(),userAddress:e}),t;return console.error("Insights text is undefined or null."),null}}catch(e){return console.error("Error generating insights:",e),null}},N=e=>e>=850?"green":e>=740?"yellow":e>=630?"orange":e>=410?"red":e>=310?"black":"grey";var C=()=>{let e=(0,n.useRef)(!1),[t,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(null),[i,h]=(0,n.useState)(""),[f,m]=(0,n.useState)(null),[y,w]=(0,n.useState)([]);(0,n.useEffect)(()=>(e.current=!0,(0,c.JQ)(t=>{e.current&&w(t||[])}),()=>{e.current=!1}),[]);let C=e=>/^(0x)?[0-9a-fA-F]{40}$/.test(e)||/^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(e),A=async()=>{try{let e=await u.eth.requestAccounts(),t=(null==e?void 0:e[0])||null;m(t),s(t||""),window.location.reload()}catch(e){console.error("Error connecting wallet:",e.message)}};(0,n.useEffect)(()=>{let t=async()=>{try{let e=await u.eth.getAccounts(),t=(null==e?void 0:e[0])||null;m(t),s(t||"")}catch(e){console.error("Error fetching account:",e.message)}};e.current&&!f&&t()},[f]);let k=async()=>{let e=f||t;if(!C(e)){alert("Invalid Address. Please enter a valid address.");return}let s=await j(e,"eth");if(s&&s.length>0){(0,c.tL)({userId:e}),s.forEach(e=>{(0,c.Ug)(e)}),w(s);let t=E(e);o(t),alert("Transaction history loaded succesfully!");try{let t=S(e,"",s),r=await v(e,"",t);console.log("Insights response:",r),r?"string"==typeof r?(h(r),(0,c.zb)({userAddress:e,insights:r,timestamp:Date.now()})):console.error("Invalid insights response:",r):console.error("Insights response is null.")}catch(e){console.error("Error generating insights:",e)}}else{w([]),o(null),console.log("No transactions available for the given address."),alert("No transactions or score available for the given address.");return}},S=(e,t,s)=>{let r=s.map((e,t)=>"Transaction ".concat(t+1," - ").concat(e.type,": ").concat(e.usdAmount," USD involving ").concat(e.thirdPartyWallet,".")).join("\n"),a='\n     "Analyze Ethereum address for potential malicious activities or bad actors. Look for patterns, anomalies, or any indicators that may suggest malicious behavior.\n      Provide insights for the relationship between Ethereum addresses '.concat(e," and its ").concat(s," and identify the unique addresses involved ").concat(t,".\n      ").concat(r,"\n    ");return console.log("Generated OpenAI Prompt:",a),a},E=e=>{let t=I(e);return Math.abs(t)%851},I=e=>{let t=0;for(let s=0;e&&s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r}return t};return(0,a.jsxs)("div",{className:"main-container",children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"DApp POC"})}),(0,a.jsx)("section",{className:"bg-black",children:(0,a.jsxs)("div",{className:"layout flex min-h-screen flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)("h1",{className:"text-white font-bold text-4xl mb-6",children:"DApp POC"}),(0,a.jsx)("h4",{children:"Connect wallet or enter address"}),(0,a.jsx)("p",{children:"To generate an iDAC score with AI-Insights"}),(0,a.jsx)("hr",{style:{border:"none",borderRadius:"5px",borderBottom:"3px solid grey",width:"100%",margin:"30px 0"}}),(0,a.jsx)("div",{className:"image-container",style:{padding:"50px"},children:(0,a.jsx)(d(),{src:"/idacscore.png",alt:"idacscore",width:1600,height:1e3})}),null!==r&&(0,a.jsx)("div",{className:" ".concat(N(r)),children:(0,a.jsx)(x.Z,{seed:t.toLowerCase(),generatedScore:r})}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("button",{onClick:A,style:{backgroundColor:"#913d88",color:"white",fontWeight:"300",margin:"10px",padding:"10px",borderRadius:"5px"},children:"Connect Wallet"}),(0,a.jsx)("button",{onClick:k,style:{backgroundColor:"#913d88",color:"white",fontWeight:"300",margin:"10px",padding:"10px",borderRadius:"5px"},children:"Generate Score"})]}),(0,a.jsx)(b,{seed:t,onAccountChange:e=>{m(e),s(e||"")}}),(0,a.jsx)("input",{type:"text",placeholder:" ETH or BTC",value:t,onChange:e=>s(e.target.value),style:{textAlign:"center",backgroundColor:"#f0f0f0",color:"black",margin:"10px 0"}}),(0,a.jsx)("hr",{style:{border:"none",borderRadius:"5px",borderBottom:"3px solid grey",width:"100%",margin:"90px 0"}}),null!==r&&y.length>0&&(0,a.jsx)(p.Z,{transactions:y}),null!==r&&0===y.length&&(0,a.jsx)("p",{children:"No transactions available for the given address."}),(0,a.jsxs)("div",{className:"header container",children:[(0,a.jsx)("h2",{children:"AI Insights:"}),(0,a.jsx)(g,{children:i})]})]})})]})}},3807:function(e,t,s){"use strict";var r=s(7437),a=s(2265),n=s(6691),c=s.n(n);t.Z=e=>{var t;let{seed:s,generatedScore:n}=e,[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(null!==n)l(n);else if(s.toLowerCase().startsWith("0x")||s.toLowerCase().startsWith("bc1")){let e=i(s),t=Math.abs(e)%851;l(t)}else l(null)},[s,n]);let i=e=>{let t=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r}return t},d=null!==n?null===(t=n)?"grey":t>=850?"green":t>=740?"yellow":t>=630?"orange":t>=410?"red":t>=310?"black":"grey":"grey";return(0,r.jsx)("div",{className:"hexagon-container ".concat(d),children:(0,r.jsxs)("div",{className:"hexagon-poc",children:[(0,r.jsx)("span",{className:"score",style:{color:"white",fontSize:"18px"},children:null!==o?o:"Score"}),null!==o&&(0,r.jsx)("div",{className:"inner-hexagon",children:(0,r.jsx)(c(),{src:"/".concat(d,".png"),alt:"Hexagon",width:100,height:100})})]})})}},7026:function(e,t,s){"use strict";var r=s(7437),a=s(428),n=s.n(a);s(2265);var c=s(6691),o=s.n(c);let l=e=>e>=850?"green":e>=740?"yellow":e>=630?"orange":e>=410?"red":e>=310?"black":"grey",i=e=>{if(e.length<=10)return e;let t=e.slice(0,6),s=e.slice(-4);return"".concat(t,"...").concat(s)};t.Z=e=>{let{transactions:t}=e;return(0,r.jsxs)("div",{className:"jsx-bcdcf5650b0b51ae score-transactions",children:[(0,r.jsx)("h2",{className:"jsx-bcdcf5650b0b51ae",children:"Transaction History"}),(0,r.jsx)("div",{className:"jsx-bcdcf5650b0b51ae table-container",children:Array.isArray(t)&&t.length>0?(0,r.jsxs)("table",{className:"jsx-bcdcf5650b0b51ae",children:[(0,r.jsx)("thead",{className:"jsx-bcdcf5650b0b51ae",children:(0,r.jsxs)("tr",{className:"jsx-bcdcf5650b0b51ae",children:[(0,r.jsx)("th",{className:"jsx-bcdcf5650b0b51ae",children:"Party Score"}),(0,r.jsx)("th",{className:"jsx-bcdcf5650b0b51ae",children:"Type"}),(0,r.jsx)("th",{className:"jsx-bcdcf5650b0b51ae",children:"Party Wallet"}),(0,r.jsx)("th",{className:"jsx-bcdcf5650b0b51ae",children:"Timestamp"}),(0,r.jsx)("th",{className:"jsx-bcdcf5650b0b51ae",children:"Crypto"}),(0,r.jsx)("th",{className:"jsx-bcdcf5650b0b51ae",children:"Amount"})]})}),(0,r.jsx)("tbody",{className:"jsx-bcdcf5650b0b51ae",children:t.map((e,t)=>(0,r.jsxs)("tr",{className:"jsx-bcdcf5650b0b51ae",children:[(0,r.jsxs)("td",{className:"jsx-bcdcf5650b0b51ae score-transactions",children:[(0,r.jsx)("div",{className:"jsx-bcdcf5650b0b51ae txn-hex",children:(0,r.jsx)(o(),{src:"/".concat(l(e.thirdPartyIdacScore),".png"),alt:"Hexagon",width:25,height:25})}),(0,r.jsx)("div",{className:"jsx-bcdcf5650b0b51ae tab-score",children:e.thirdPartyIdacScore})]}),(0,r.jsx)("td",{className:"jsx-bcdcf5650b0b51ae",children:e.type}),(0,r.jsx)("td",{className:"jsx-bcdcf5650b0b51ae wallet",children:(0,r.jsx)("div",{title:e.thirdPartyWallet,className:"jsx-bcdcf5650b0b51ae shortened-wallet",children:i(e.thirdPartyWallet)})}),(0,r.jsx)("td",{className:"jsx-bcdcf5650b0b51ae",children:e.timestamp}),(0,r.jsx)("td",{className:"jsx-bcdcf5650b0b51ae",children:e.cryptocurrency}),(0,r.jsxs)("td",{className:"jsx-bcdcf5650b0b51ae",children:["$",e.usdAmount.toFixed(2)]})]},t))})]}):(0,r.jsx)("p",{className:"jsx-bcdcf5650b0b51ae",children:"No transactions available for the given address."})}),(0,r.jsx)(n(),{id:"bcdcf5650b0b51ae",children:".score-transactions.jsx-bcdcf5650b0b51ae{margin-top:20px}.table-container.jsx-bcdcf5650b0b51ae{overflow-x:auto}table.jsx-bcdcf5650b0b51ae{width:100%;border-collapse:collapse;margin-top:10px}th.jsx-bcdcf5650b0b51ae,td.jsx-bcdcf5650b0b51ae{border:1px solid#ddd;padding:8px;text-align:left}.txn-hex.jsx-bcdcf5650b0b51ae{margin-right:8px}.tab-score.jsx-bcdcf5650b0b51ae{max-width:100px;color:white}.wallet.jsx-bcdcf5650b0b51ae{word-break:break-all}.shortened-wallet.jsx-bcdcf5650b0b51ae{max-width:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}@media(max-width:600px){th.jsx-bcdcf5650b0b51ae,td.jsx-bcdcf5650b0b51ae{font-size:12px}}"})]})}},4387:function(e,t,s){"use strict";s.d(t,{JQ:function(){return w},Ug:function(){return j},Zk:function(){return u},n6:function(){return g},qj:function(){return d},tL:function(){return m},tc:function(){return h},zb:function(){return y}});var r=s(994),a=s(3085),n=s(2307);let c=(0,r.ZF)({apiKey:"AIzaSyDEpLst3tiorsfPk2ZXiw-eGmSVlulxe1Y",authDomain:"idefiai.firebaseapp.com",projectId:"idefiai",storageBucket:"idefiai.appspot.com",messagingSenderId:"256088643029",appId:"1:256088643029:web:85dfdd43c402dda5e3195c"}),o=(0,a.v0)(),l=new a.hJ,i=(0,n.N8)(c),d=()=>(0,a.rh)(o,l),h=(e,t)=>(0,a.e5)(o,e,t),u=(e,t)=>(0,a.Xb)(o,e,t),b=(0,n.iH)(i,"jsondata"),x=(0,n.iH)(i,"userid"),p=(0,n.iH)(i,"insights"),f=(0,n.iH)(i,"transactions"),g=e=>(0,n.VF)(b,e),m=e=>(0,n.VF)(x,e),j=e=>(0,n.VF)(f,e),y=e=>(console.log("Attempting to push insights:",e),(0,n.VF)(p,{openAIResponse:e.openAIResponse||null,timestamp:e.timestamp,userAddress:e.userAddress,insights:e.insights}).then(()=>console.log("Insights pushed successfully")).catch(e=>console.error("Error pushing insights:",e))),w=e=>{(0,n.jM)(f,t=>{let s=t.val();e(s)})}}},function(e){e.O(0,[481,214,222,372,908,971,596,744],function(){return e(e.s=1372)}),_N_E=e.O()}]);