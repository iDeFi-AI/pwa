(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{1372:function(e,t,s){Promise.resolve().then(s.bind(s,7730))},7730:function(e,t,s){"use strict";let r;s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),n=s(2265),o=s(4387),c=s(981),l=s.n(c),i=s(6691),d=s.n(i),h=s(1737);void 0!==window.ethereum?(window.ethereum.request({method:"eth_requestAccounts"}),r=new h.ZPm(window.ethereum)):r=new h.ZPm(new h.ZPm.providers.HttpProvider("https://mainnet.infura.io/v3/YOUR_INFURA_API_KEY"));var u=r,x=e=>{let{seed:t,onAccountChange:s}=e,[r,o]=(0,n.useState)(0),[c,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=i(t),s=Math.abs(e)%851;o(s)},[t]),(0,n.useEffect)(()=>{let e=async()=>{try{let e=await u.eth.getAccounts(),t=(null==e?void 0:e[0])||null;l(t),s(t)}catch(e){console.error("Error fetching account:",e.message)}};e()},[]);let i=e=>{let t=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r}return t};return(0,a.jsx)("div",{children:c&&(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:["Connected Account: ",c]})})})},f=s(3807),p=s(7026);let g=e=>{let{setMessage:t,script:s}=e,r=s.split("\n"),[a,o]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=setInterval(()=>{a<r.length?(t(e=>e+(e?"\n":"")+r[a]),o(a+1)):clearInterval(e)},1e3);return()=>{clearInterval(e)}},[r,t,a]),null};var m=e=>{let{children:t}=e,[s,r]=(0,n.useState)("");return(0,a.jsxs)("div",{id:"App:CodeTerminal",style:{backgroundColor:"#000",padding:"1em",borderRadius:"5px",borderColor:"#913d88",color:"#fff",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:[(0,a.jsx)(g,{setMessage:r,script:t}),s]})};let j="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",w=async(e,t)=>{switch(t.toLowerCase()){case"eth":return y(e);case"btc":return v(e);default:return console.error("Unsupported cryptocurrency"),null}},y=async e=>{try{let t="https://api.etherscan.io/api?module=account&action=txlist&address=".concat(e,"&startblock=0&endblock=99999999&sort=asc&apikey=").concat("QEX6DGCMDRPXRU89FKPUR4BG9AUMCR4FXD"),s=await fetch(t),r=await s.json();if("1"!==r.status)return console.error("Error fetching Etherscan data:",r.message),null;{let t=r.result.map(t=>({timestamp:new Date(1e3*parseInt(t.timeStamp)).toISOString(),type:e.toLowerCase()===t.from.toLowerCase()?"Sent":"Received",cryptocurrency:"ETH",thirdPartyIdacScore:Math.floor(1e3*Math.random()),usdAmount:parseFloat(t.value)/1e18,thirdPartyWallet:e.toLowerCase()===t.from.toLowerCase()?t.to:t.from}));return t}}catch(e){return console.error("Error fetching Etherscan data:",e),[]}},v=async e=>{try{let t="https://api.blockcypher.com/v1/btc/main/addrs/".concat(e,"/full?token=").concat(j),s=await fetch(t),r=await s.json();if(r.error)return console.error("Error fetching BlockCypher data:",r.error),null;{let t=r.txs.map(t=>({timestamp:new Date(t.received).toISOString(),type:e.toLowerCase()===t.inputs[0].addresses[0].toLowerCase()?"Sent":"Received",cryptocurrency:"BTC",thirdPartyIdacScore:Math.floor(1e3*Math.random()),usdAmount:t.outputs.reduce((e,t)=>e+t.value,0)/1e8,thirdPartyWallet:e.toLowerCase()===t.inputs[0].addresses[0].toLowerCase()?t.outputs[0].addresses[0]:t.inputs[0].addresses[0]}));return t}}catch(e){return console.error("Error fetching BlockCypher data:",e),[]}},b=async(e,t,s)=>{try{let n={model:"gpt-3.5-turbo",messages:[{role:"system",content:"Analyze Ethereum address ".concat(e," for potential malicious activities or bad actors. Look for patterns, anomalies, or any indicators that may suggest malicious behavior. \n          Consider the following data associated with ").concat(t)},{role:"user",content:"Provide insights for the relationship between Ethereum addresses ".concat(e," and ").concat(t," based off the transaction history.")},{role:"assistant",content:s}]};console.log("Request payload:",n);let c=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j)},body:JSON.stringify(n)});console.log("Response status:",c.status);let l=await c.json();if(console.log("Response data:",l),!l.choices||!(l.choices.length>0))return console.error("No insights available."),null;{var r,a;let t=null===(a=l.choices[0])||void 0===a?void 0:null===(r=a.message)||void 0===r?void 0:r.content;if(console.log("Insights:",t),null!=t)return await (0,o.n6)({insights:t,timestamp:Date.now(),userAddress:e}),t;return console.error("Insights text is undefined or null."),null}}catch(e){return console.error("Error generating insights:",e),null}},N=e=>e>=850?"green":e>=740?"yellow":e>=630?"orange":e>=410?"red":e>=310?"black":"grey";var C=()=>{let e=(0,n.useRef)(!1),[t,s]=(0,n.useState)(""),[r,c]=(0,n.useState)(null),[i,h]=(0,n.useState)(""),[g,j]=(0,n.useState)(null),[y,v]=(0,n.useState)([]);(0,n.useEffect)(()=>(e.current=!0,(0,o.JQ)(t=>{e.current&&v(t||[])}),()=>{e.current=!1}),[]);let C=e=>/^(0x)?[0-9a-fA-F]{40}$/.test(e)||/^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(e),A=async()=>{try{let e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(e)window.location.href="https://idefi.ai/dapp";else{let e=await u.eth.requestAccounts(),t=(null==e?void 0:e[0])||null;j(t),s(t||""),window.location.reload()}}catch(e){console.error("Error connecting wallet:",e.message)}};(0,n.useEffect)(()=>{let t=async()=>{try{let e=await u.eth.getAccounts(),t=(null==e?void 0:e[0])||null;j(t),s(t||"")}catch(e){console.error("Error fetching account:",e.message)}};e.current&&!g&&t()},[g]);let S=async()=>{let e=g||t;if(!C(e)){alert("Invalid Address. Please enter a valid address.");return}let s=await w(e,"eth");if(s&&s.length>0){(0,o.tL)({userId:e}),s.forEach(e=>{(0,o.Ug)(e)}),v(s);let t=k(e);c(t),alert("Transaction history loaded succesfully!");try{let t=P(e,"",s,r),a=await b(e,"",t);console.log("Insights response:",a),a?"string"==typeof a?(h(a),(0,o.zb)({userAddress:e,insights:a,timestamp:Date.now()})):console.error("Invalid insights response:",a):console.error("Insights response is null.")}catch(e){console.error("Error generating insights:",e)}}else{v([]),c(null),console.log("No transactions available for the given address."),alert("No transactions or score available for the given address.");return}},P=(e,t,s,r)=>{let a=s.map((e,t)=>"Transaction ".concat(t+1," - ").concat(e.type,": ").concat(e.usdAmount," USD involving ").concat(e.thirdPartyWallet,".")).join("\n"),n="\n      Analyze Ethereum address ".concat(e," for potential malicious activities or bad actors. Look for patterns, anomalies, or any indicators that may suggest malicious behavior.\n      Provide insights for the relationship between Ethereum addresses ").concat(e," and ").concat(t,". Consider the unique addresses involved ").concat(t,".\n      Showcasing iDAC-Trust Score: ").concat(r,".\n      ").concat(a,"\n    ");return console.log("Generated OpenAI Prompt:",n),n},k=e=>{let t=E(e);return Math.abs(t)%851},E=e=>{let t=0;for(let s=0;e&&s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r}return t};return(0,a.jsxs)("div",{className:"main-container",children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"dAPP - iDAC"})}),(0,a.jsx)("section",{className:"bg-black",children:(0,a.jsxs)("div",{className:"layout flex min-h-screen flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)("h1",{className:"text-white font-bold text-4xl mb-6",children:"dAPP - iDAC"}),(0,a.jsx)("h4",{children:"Connect wallet or enter address"}),(0,a.jsx)("p",{children:"Generate iDAC Trust Score with DeFi-AI"}),(0,a.jsx)("hr",{style:{border:"none",borderRadius:"5px",borderBottom:"3px solid grey",width:"100%",margin:"30px 0"}}),(0,a.jsx)("div",{className:"image-container",style:{padding:"50px"},children:(0,a.jsx)(d(),{src:"/idacscore.png",alt:"idacscore",width:1600,height:1e3})}),null!==r&&(0,a.jsx)("div",{className:" ".concat(N(r)),children:(0,a.jsx)(f.Z,{seed:t.toLowerCase(),generatedScore:r})}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("button",{onClick:A,style:{backgroundColor:"#913d88",color:"white",fontWeight:"300",margin:"10px",padding:"10px",borderRadius:"5px"},children:"Connect Wallet"}),(0,a.jsx)("button",{onClick:S,style:{backgroundColor:"#913d88",color:"white",fontWeight:"300",margin:"10px",padding:"10px",borderRadius:"5px"},children:"Generate Score"})]}),(0,a.jsx)(x,{seed:t,onAccountChange:e=>{j(e),s(e||"")}}),(0,a.jsx)("input",{type:"text",placeholder:" ETH or BTC",value:t,onChange:e=>s(e.target.value),style:{textAlign:"center",backgroundColor:"#f0f0f0",color:"black",margin:"10px 0"}}),(0,a.jsx)("hr",{style:{border:"none",borderRadius:"5px",borderBottom:"3px solid grey",width:"100%",margin:"90px 0"}}),null!==r&&y.length>0&&(0,a.jsx)(p.Z,{transactions:y,overallScore:r}),null!==r&&0===y.length&&(0,a.jsx)("p",{children:"No transactions available for the given address."}),(0,a.jsxs)("div",{className:"header container",children:[(0,a.jsx)("h2",{children:"iDAC AI:"}),(0,a.jsx)(m,{children:i})]})]})})]})}},3807:function(e,t,s){"use strict";var r=s(7437),a=s(2265),n=s(6691),o=s.n(n);t.Z=e=>{var t;let{seed:s,generatedScore:n}=e,[c,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(null!==n)l(n);else if(s.toLowerCase().startsWith("0x")||s.toLowerCase().startsWith("bc1")){let e=i(s),t=Math.abs(e)%851;l(t)}else l(null)},[s,n]);let i=e=>{let t=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r}return t},d=null!==n?null===(t=n)?"grey":t>=850?"green":t>=740?"yellow":t>=670?"orange":t>=580?"red":t>=450?"black":"grey":"grey";return(0,r.jsx)("div",{className:"hexagon-container ".concat(d),children:(0,r.jsxs)("div",{className:"hexagon-poc",children:[(0,r.jsx)("span",{className:"score",style:{color:"white",fontSize:"4vw"},children:null!==c?c:"Score"}),null!==c&&(0,r.jsx)("div",{className:"inner-hexagon",children:(0,r.jsx)(o(),{src:"/".concat(d,".png"),alt:"Hexagon",layout:"responsive",width:100,height:100,className:"hexagon-image"})})]})})}},7026:function(e,t,s){"use strict";var r=s(7437),a=s(428),n=s.n(a);s(2265);var o=s(6691),c=s.n(o);let l=(e,t)=>null===t?"grey":e>=850?"green":e>=740?"yellow":e>=670?"orange":e>=580?"red":e>=450?"black":"grey",i=e=>e>=850?"Excellent":e>=740?"Good":e>=670?"Fair":e>=580?"Poor":e>=450?"Bad":"New",d=e=>{if(e.length<=10)return e;let t=e.slice(0,6),s=e.slice(-4);return"".concat(t,"...").concat(s)};t.Z=e=>{let{transactions:t,overallScore:s}=e;return(0,r.jsxs)("div",{className:"jsx-487dc22868f0380d score-transactions",children:[(0,r.jsx)("h2",{className:"jsx-487dc22868f0380d",children:"Transaction History"}),(0,r.jsx)("div",{className:"jsx-487dc22868f0380d table-container",children:(0,r.jsx)("div",{className:"jsx-487dc22868f0380d scroll-view",children:Array.isArray(t)&&t.length>0?(0,r.jsx)("div",{className:"jsx-487dc22868f0380d table-responsive",children:(0,r.jsxs)("table",{className:"jsx-487dc22868f0380d",children:[(0,r.jsx)("thead",{className:"jsx-487dc22868f0380d",children:(0,r.jsxs)("tr",{className:"jsx-487dc22868f0380d",children:[(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Party Score"}),(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Category"}),(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Type"}),(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Party Wallet"}),(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Timestamp"}),(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Crypto"}),(0,r.jsx)("th",{className:"jsx-487dc22868f0380d",children:"Amount"})]})}),(0,r.jsx)("tbody",{className:"jsx-487dc22868f0380d",children:t.map((e,t)=>(0,r.jsxs)("tr",{className:"jsx-487dc22868f0380d",children:[(0,r.jsxs)("td",{className:"jsx-487dc22868f0380d score-transactions",children:[(0,r.jsx)("div",{className:"jsx-487dc22868f0380d txn-hex",children:(0,r.jsx)(c(),{src:"/".concat(l(e.thirdPartyIdacScore,s),".png"),alt:"Hexagon",width:15,height:15})}),(0,r.jsx)("div",{className:"jsx-487dc22868f0380d tab-score",children:e.thirdPartyIdacScore})]}),(0,r.jsx)("td",{className:"jsx-487dc22868f0380d "+(i(e.thirdPartyIdacScore)||""),children:i(e.thirdPartyIdacScore)}),(0,r.jsx)("td",{className:"jsx-487dc22868f0380d",children:e.type}),(0,r.jsx)("td",{className:"jsx-487dc22868f0380d wallet",children:(0,r.jsx)("div",{title:e.thirdPartyWallet,className:"jsx-487dc22868f0380d shortened-wallet",children:d(e.thirdPartyWallet)})}),(0,r.jsx)("td",{className:"jsx-487dc22868f0380d",children:e.timestamp}),(0,r.jsx)("td",{className:"jsx-487dc22868f0380d",children:e.cryptocurrency}),(0,r.jsxs)("td",{className:"jsx-487dc22868f0380d",children:["$",e.usdAmount.toFixed(2)]})]},t))})]})}):(0,r.jsx)("p",{className:"jsx-487dc22868f0380d",children:"No transactions available for the given address."})})}),(0,r.jsx)(n(),{id:"487dc22868f0380d",children:".score-transactions.jsx-487dc22868f0380d{margin-top:20px}.table-container.jsx-487dc22868f0380d{overflow:auto}.scroll-view.jsx-487dc22868f0380d{max-height:400px;overflow:auto}.table-responsive.jsx-487dc22868f0380d{width:100%;overflow-x:auto}table.jsx-487dc22868f0380d{width:100%;border-collapse:collapse;margin-top:10px}th.jsx-487dc22868f0380d,td.jsx-487dc22868f0380d{border:2px solid#ddd;padding:8px;text-align:left}.txn-hex.jsx-487dc22868f0380d{margin-right:8px}.tab-score.jsx-487dc22868f0380d{max-width:100px;color:white}.wallet.jsx-487dc22868f0380d{word-break:break-all}.shortened-wallet.jsx-487dc22868f0380d{max-width:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}@media(max-width:600px){th.jsx-487dc22868f0380d,td.jsx-487dc22868f0380d{font-size:8px;padding:3px}.tab-score.jsx-487dc22868f0380d{max-width:25px}}.Excellent.jsx-487dc22868f0380d{color:green}.Good.jsx-487dc22868f0380d{color:yellow}.Fair.jsx-487dc22868f0380d{color:orange}.Poor.jsx-487dc22868f0380d{color:red}.Bad.jsx-487dc22868f0380d{color:black;border:1px solid white}.New.jsx-487dc22868f0380d{color:grey}"})]})}},4387:function(e,t,s){"use strict";s.d(t,{JQ:function(){return v},Ug:function(){return w},Zk:function(){return u},n6:function(){return m},qj:function(){return d},tL:function(){return j},tc:function(){return h},zb:function(){return y}});var r=s(994),a=s(3085),n=s(2307);let o=(0,r.ZF)({apiKey:"AIzaSyDEpLst3tiorsfPk2ZXiw-eGmSVlulxe1Y",authDomain:"idefiai.firebaseapp.com",projectId:"idefiai",storageBucket:"idefiai.appspot.com",messagingSenderId:"256088643029",appId:"1:256088643029:web:85dfdd43c402dda5e3195c"}),c=(0,a.v0)(),l=new a.hJ,i=(0,n.N8)(o),d=()=>(0,a.rh)(c,l),h=(e,t)=>(0,a.e5)(c,e,t),u=(e,t)=>(0,a.Xb)(c,e,t),x=(0,n.iH)(i,"jsondata"),f=(0,n.iH)(i,"userid"),p=(0,n.iH)(i,"insights"),g=(0,n.iH)(i,"transactions"),m=e=>(0,n.VF)(x,e),j=e=>(0,n.VF)(f,e),w=e=>(0,n.VF)(g,e),y=e=>(console.log("Attempting to push insights:",e),(0,n.VF)(p,{openAIResponse:e.openAIResponse||null,timestamp:e.timestamp,userAddress:e.userAddress,insights:e.insights}).then(()=>console.log("Insights pushed successfully")).catch(e=>console.error("Error pushing insights:",e))),v=e=>{(0,n.jM)(g,t=>{let s=t.val();e(s)})}}},function(e){e.O(0,[481,214,222,372,908,971,596,744],function(){return e(e.s=1372)}),_N_E=e.O()}]);